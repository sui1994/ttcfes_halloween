<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ® Halloween Control Panel</title>

  <!-- Control Panelå°‚ç”¨CSS -->
  <link rel="stylesheet" type="text/css" href="css/control-panel.css">
</head>

<body>
  <div class="control-container">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="header">
      <h1 class="main-title">ğŸ® Halloween Control Panel</h1>
      <p>æ–‡åŒ–ç¥­ç”¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ“ä½œã‚·ã‚¹ãƒ†ãƒ </p>
    </div>

    <!-- æ¥ç¶šçŠ¶æ³ -->
    <div class="connection-status">
      <span class="status-indicator status-disconnected" id="connection-indicator"></span>
      <span id="connection-text">ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šä¸­...</span>
      <div style="margin-top: 10px;">
        <small>è¡¨ç¤ºç”»é¢: <span id="display-count">0</span>å° | æ“ä½œç”»é¢: <span id="controller-count">0</span>å°</small>
      </div>
    </div>

    <div class="control-grid">
      <!-- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ“ä½œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="control-section">
        <h2 class="section-title">ğŸƒ é£›è¡Œã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ (20ä½“)</h2>
        <div class="character-grid" id="flying-characters">
          <!-- JavaScriptã§å‹•çš„ç”Ÿæˆ -->
        </div>
      </div>

      <!-- æ­©è¡Œã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æ“ä½œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="control-section">
        <h2 class="section-title">ğŸš¶ æ­©è¡Œã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ (10ä½“)</h2>
        <div class="character-grid" id="walking-characters">
          <!-- JavaScriptã§å‹•çš„ç”Ÿæˆ -->
        </div>
      </div>
    </div>

    <!-- ç‰¹æ®Šæ“ä½œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="control-section">
      <h2 class="section-title">âœ¨ ç‰¹æ®Šã‚¨ãƒ•ã‚§ã‚¯ãƒˆ & éŸ³æ¥½åˆ¶å¾¡</h2>
      <div class="special-controls">
        <button class="special-btn effect-btn" onclick="triggerSpecialEffect('confetti')">
          ğŸŠ ç´™å¹é›ªã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        </button>
        <button class="special-btn effect-btn" onclick="triggerSpecialEffect('lightning')">
          âš¡ é›·ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        </button>
        <button class="special-btn effect-btn" onclick="triggerSpecialEffect('magic')">
          âœ¨ é­”æ³•ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        </button>
        <button class="special-btn music-btn" onclick="controlMusic('play')">
          â–¶ï¸ éŸ³æ¥½å†ç”Ÿ
        </button>
        <button class="special-btn music-btn" onclick="controlMusic('pause')">
          â¸ï¸ éŸ³æ¥½åœæ­¢
        </button>
        <button class="special-btn music-btn" onclick="controlMusic('volume-up')">
          ğŸ”Š éŸ³é‡ã‚¢ãƒƒãƒ—
        </button>
        <button class="special-btn effect-btn" onclick="controlPanel.testSocketConnection()" style="background: linear-gradient(45deg, #ff9800, #f57c00);">
          ğŸ§ª Socketé€šä¿¡ãƒ†ã‚¹ãƒˆ
        </button>
        <button class="special-btn effect-btn" onclick="togglePersistence()" style="background: linear-gradient(45deg, #4caf50, #388e3c);">
          ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ä¿å­˜åˆ‡æ›¿
        </button>
        <button class="special-btn effect-btn danger-btn" onclick="clearPersistedData()" style="background: linear-gradient(45deg, #f44336, #d32f2f); border: 2px solid #ff5722;">
          ğŸ—‘ï¸ å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
        </button>
        <button class="special-btn effect-btn" onclick="window.location.reload()" style="background: linear-gradient(45deg, #2196f3, #1976d2);">
          ğŸ”„ æ‰‹å‹•ãƒªãƒ­ãƒ¼ãƒ‰
        </button>
      </div>
    </div>

    <!-- æ“ä½œçŠ¶æ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="control-section">
      <h2 class="section-title">ğŸ‘¥ ç¾åœ¨ã®æ“ä½œçŠ¶æ³</h2>
      <div class="status-overview" id="status-overview">
        <div class="status-summary">
          <span>ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼: <span id="active-count">0</span>ä½“</span>
          <button class="special-btn effect-btn" onclick="refreshStatus()" style="margin-left: 20px; padding: 5px 10px;">
            ğŸ”„ çŠ¶æ³æ›´æ–°
          </button>
        </div>
        <div class="active-characters" id="active-characters">
          <!-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
        </div>
      </div>
    </div>

    <!-- ãƒ­ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="control-section">
      <h2 class="section-title">ğŸ“‹ æ“ä½œãƒ­ã‚°</h2>
      <div class="log-section" id="operation-log">
        <div class="log-title">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ“ä½œå±¥æ­´</div>
        <div class="log-entry">ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ä¸­...</div>
      </div>
    </div>
  </div>

  <!-- Socket.io ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ -->
  <script src="/socket.io/socket.io.js"></script>

  <!-- Image Upload System -->
  <!-- <script src="js/websocket-file-uploader.js"></script> -->
  <script src="js/control-image-uploader.js"></script>

  <!-- Binary Image Upload System -->
  <script src="js/binary-image-uploader.js"></script>

  <!-- Storage Monitor System -->
  <script src="js/storage-monitor.js"></script>

  <!-- Control Panelå°‚ç”¨JavaScript -->
  <script src="js/control-panel.js"></script>
</body>

</html>
<style>
  /* å±é™ºãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
  .danger-btn {
    position: relative;
    overflow: hidden;
  }

  .danger-btn:hover {
    animation: dangerPulse 0.5s ease-in-out;
    box-shadow: 0 0 20px rgba(244, 67, 54, 0.6);
  }

  .danger-btn:active {
    transform: scale(0.95);
  }

  @keyframes dangerPulse {

    0%,
    100% {
      transform: scale(1);
    }

    50% {
      transform: scale(1.05);
    }
  }

  /* ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ã‚¹ã‚¿ã‚¤ãƒ«æ”¹å–„ */
  .danger-btn::before {
    content: "âš ï¸";
    position: absolute;
    top: -5px;
    right: -5px;
    background: #ff5722;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .danger-btn:hover::before {
    opacity: 1;
  }
</style>