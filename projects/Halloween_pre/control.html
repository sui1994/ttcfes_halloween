<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>🎮 Halloween Control Panel</title>

  <!-- Control Panel専用CSS -->
  <link rel="stylesheet" type="text/css" href="css/control-panel.css">
</head>

<body>
  <div class="control-container">
    <!-- ヘッダー -->
    <div class="header">
      <h1 class="main-title">🎮 Halloween Control Panel</h1>
      <p>文化祭用キャラクター操作システム</p>
    </div>

    <!-- 接続状況 -->
    <div class="connection-status">
      <span class="status-indicator status-disconnected" id="connection-indicator"></span>
      <span id="connection-text">サーバーに接続中...</span>
      <div style="margin-top: 10px;">
        <small>表示画面: <span id="display-count">0</span>台 | 操作画面: <span id="controller-count">0</span>台</small>
      </div>
    </div>

    <div class="control-grid">
      <!-- キャラクター操作セクション -->
      <div class="control-section">
        <h2 class="section-title">🎃 飛行キャラクター (20体)</h2>
        <div class="character-grid" id="flying-characters">
          <!-- JavaScriptで動的生成 -->
        </div>
      </div>

      <!-- 歩行キャラクター操作セクション -->
      <div class="control-section">
        <h2 class="section-title">🚶 歩行キャラクター (10体)</h2>
        <div class="character-grid" id="walking-characters">
          <!-- JavaScriptで動的生成 -->
        </div>
      </div>
    </div>

    <!-- 特殊操作セクション -->
    <div class="control-section">
      <h2 class="section-title">✨ 特殊エフェクト & 音楽制御</h2>
      <div class="special-controls">
        <button class="special-btn effect-btn" onclick="triggerSpecialEffect('confetti')">
          🎊 紙吹雪エフェクト
        </button>
        <button class="special-btn effect-btn" onclick="triggerSpecialEffect('lightning')">
          ⚡ 雷エフェクト
        </button>
        <button class="special-btn effect-btn" onclick="triggerSpecialEffect('magic')">
          ✨ 魔法エフェクト
        </button>
        <button class="special-btn music-btn" onclick="controlMusic('play')">
          ▶️ 音楽再生
        </button>
        <button class="special-btn music-btn" onclick="controlMusic('pause')">
          ⏸️ 音楽停止
        </button>
        <button class="special-btn music-btn" onclick="controlMusic('volume-up')">
          🔊 音量アップ
        </button>
      </div>
    </div>

    <!-- 操作状況セクション -->
    <div class="control-section">
      <h2 class="section-title">👥 現在の操作状況</h2>
      <div class="status-overview" id="status-overview">
        <div class="status-summary">
          <span>アクティブなキャラクター: <span id="active-count">0</span>体</span>
          <button class="special-btn effect-btn" onclick="refreshStatus()" style="margin-left: 20px; padding: 5px 10px;">
            🔄 状況更新
          </button>
        </div>
        <div class="active-characters" id="active-characters">
          <!-- アクティブなキャラクターがここに表示される -->
        </div>
      </div>
    </div>

    <!-- ログセクション -->
    <div class="control-section">
      <h2 class="section-title">📋 操作ログ</h2>
      <div class="log-section" id="operation-log">
        <div class="log-title">リアルタイム操作履歴</div>
        <div class="log-entry">システム初期化中...</div>
      </div>
    </div>
  </div>

  <!-- Socket.io クライアント -->
  <script src="/socket.io/socket.io.js"></script>

  <!-- Control Panel専用JavaScript -->
  <script src="js/control-panel.js"></script>
</body>

</html>