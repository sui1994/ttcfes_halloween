<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>🎃 HALLOWEEN TOWN AQUARIUM 🌙</title>

  <!-- ハローウィン専用JavaScript -->
  <script src="js/bubbly-optimized.js"></script>

  <!-- ハローウィン専用CSS -->
  <link rel="stylesheet" type="text/css" href="css/halloween-main.css">
  <link rel="stylesheet" type="text/css" href="css/halloween-backgrounds.css">
  <link rel="stylesheet" type="text/css" href="css/halloween-spotlights.css">
  <link rel="stylesheet" type="text/css" href="css/halloween-effects.css">
  <!-- 分割されたキャラクターCSS -->
  <link rel="stylesheet" type="text/css" href="css/halloween-characters/shared-base.css">
  <link rel="stylesheet" type="text/css" href="css/halloween-characters/fixed-characters.css">
  <link rel="stylesheet" type="text/css" href="css/halloween-characters/flying-animations.css">
  <link rel="stylesheet" type="text/css" href="css/halloween-characters/walking-animations.css">
</head>

<body>
  <!-- ハローウィンBGM -->
  <audio id="halloween-bgm" loop preload="auto">
    <source src="preset_music/halloween_bgm.mp3" type="audio/mpeg">
    お使いのブラウザはオーディオをサポートしていません。
  </audio>

  <!-- 光る紙吹雪エフェクト -->
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>
  <div class="confetti"></div>

  <!-- ハローウィンタイトル -->
  <div class="halloween-title">🎃 HALLOWEEN TOWN 🌙</div>
  <div class="halloween-subtitle">~ 透明バブル版 ~</div>

  <!-- 背景レイヤー構造 -->
  <!-- 1. ハローウィン背景画像（最背面） -->
  <div class="halloween-background"></div>

  <!-- 2. グラデーションオーバーレイ -->
  <div class="halloween-bg-grd"></div>

  <!-- 3. 月（右上） -->
  <img src="images/fixed/backgrounds/moon.png" alt="Halloween Moon" class="moon">

  <!-- 4. スポットライト（交互出現） -->
  <img src="images/fixed/backgrounds/spotlight_1.png" alt="Spotlight 1" class="spotlight1">
  <img src="images/fixed/backgrounds/spotlight_2.png" alt="Spotlight 2" class="spotlight2">

  <!-- 5. 町（真ん中） -->
  <img src="images/fixed/backgrounds/town_001.gif" alt="Halloween Town" class="town">

  <!-- 🔒 6. スパイダーワイヤー（右上）【固定画像】 -->
  <img src="images/fixed/decorations/spider-wire.png" alt="Spider Wire" class="spider-wire">

  <!-- 🔒 7. スパイダー（ランダム出現）【固定画像】 -->
  <div class="spider halloween-filter">
    <img src="images/fixed/decorations/spider.gif" width="60px" height="auto">
  </div>

  <!-- 🔒 ハローウィンのキャラクターたち【固定画像】 -->
  <div class="obake halloween-filter">
    <img src="images/fixed/effects/obake.png" width="150px" height="auto">
  </div>



  <!-- ハローウィンのコウモリたち -->
  <!-- アニメーション有りのコウモリ -->
  <!-- <div class="bat1 halloween-filter">
    <img src="preset_img/test_1.png" width="40px" height="auto">
  </div> -->

  <!-- <div class="bat2 halloween-filter">
    <img src="preset_img/test_2.png" width="40px" height="auto">
  </div> -->

  <!-- 🔒 アニメーション無しのコウモリ（静止）【固定画像】 -->
  <div class="bat1-static halloween-filter">
    <img src="images/fixed/effects/bat_1.gif" width="80px" height="auto">
  </div>

  <div class="bat2-static halloween-filter">
    <img src="images/fixed/effects/bat_2.gif" width="80px" height="auto">
  </div>

  <!-- ハローウィンの効果音 -->
  <audio id="halloween-sound" preload="auto">
    <source src="preset_music/halloween_bgm.mp3" type="audio/mpeg">
  </audio>

  <!-- 🔄 横からアニメーションするキャラクター15体 【画像入れ替え可能】 -->
  <div class="character-container">
    <!-- キャラクター1 -->
    <div class="character character1 halloween-filter">
      <img src="images/changeable/flying-characters/character1.png" width="40px" height="auto">
    </div>

    <!-- キャラクター2 -->
    <div class="character character2 halloween-filter">
      <img src="images/changeable/flying-characters/character2.png" width="40px" height="auto">
    </div>

    <!-- キャラクター3 -->
    <div class="character character3 halloween-filter">
      <img src="images/changeable/flying-characters/character3.png" width="40px" height="auto">
    </div>

    <!-- キャラクター4 -->
    <div class="character character4 halloween-filter">
      <img src="images/changeable/flying-characters/character4.png" width="40px" height="auto">
    </div>

    <!-- キャラクター5 -->
    <div class="character character5 halloween-filter">
      <img src="images/changeable/flying-characters/character5.png" width="40px" height="auto">
    </div>

    <!-- キャラクター6 -->
    <div class="character character6 halloween-filter">
      <img src="images/changeable/flying-characters/character6.png" width="40px" height="auto">
    </div>

    <!-- キャラクター7 -->
    <div class="character character7 halloween-filter">
      <img src="images/changeable/flying-characters/character7.png" width="40px" height="auto">
    </div>

    <!-- キャラクター8 -->
    <div class="character character8 halloween-filter">
      <img src="images/changeable/flying-characters/character8.png" width="40px" height="auto">
    </div>

    <!-- キャラクター9 -->
    <div class="character character9 halloween-filter">
      <img src="images/changeable/flying-characters/character9.png" width="40px" height="auto">
    </div>

    <!-- キャラクター10 -->
    <div class="character character10 halloween-filter">
      <img src="images/changeable/flying-characters/character10.png" width="40px" height="auto">
    </div>

    <!-- キャラクター11 -->
    <div class="character character11 halloween-filter">
      <img src="images/changeable/flying-characters/character11.png" width="40px" height="auto">
    </div>

    <!-- キャラクター12 -->
    <div class="character character12 halloween-filter">
      <img src="images/changeable/flying-characters/character12.png" width="40px" height="auto">
    </div>

    <!-- キャラクター13 -->
    <div class="character character13 halloween-filter">
      <img src="images/changeable/flying-characters/character13.png" width="40px" height="auto">
    </div>

    <!-- キャラクター14 -->
    <div class="character character14 halloween-filter">
      <img src="images/changeable/flying-characters/character14.png" width="40px" height="auto">
    </div>

    <!-- キャラクター15 -->
    <div class="character character15 halloween-filter">
      <img src="images/changeable/flying-characters/character15.png" width="40px" height="auto">
    </div>

    <!-- 🔄 歩行キャラクター - 画面下部3%に配置 【画像入れ替え可能】 -->
    <!-- 左から歩いてくるキャラ1 -->
    <div class="walking-character walking-left halloween-filter">
      <img src="images/changeable/walking-characters/walking-left-1.png" width="60px" height="auto">
    </div>

    <!-- 右から歩いてくるキャラ1 -->
    <div class="walking-character walking-right halloween-filter">
      <img src="images/changeable/walking-characters/walking-right-1.png" width="60px" height="auto">
    </div>

    <!-- 左から歩いてくるキャラ2 -->
    <div class="walking-character walking-left-2 halloween-filter">
      <img src="images/changeable/walking-characters/walking-left-2.png" width="60px" height="auto">
    </div>

    <!-- 右から歩いてくるキャラ2 -->
    <div class="walking-character walking-right-2 halloween-filter">
      <img src="images/changeable/walking-characters/walking-right-2.png" width="60px" height="auto">
    </div>

    <!-- 左から歩いてくるキャラ3 -->
    <div class="walking-character walking-left-3 halloween-filter">
      <img src="images/changeable/walking-characters/walking-left-3.png" width="60px" height="auto">
    </div>
  </div>

  <!-- ハローウィン魔法のバブル初期化 -->
  <script src="js/halloween-init.js"></script>

  <!-- 音楽制御スクリプト -->
  <!-- <script>
    // 音楽制御の初期化
    document.addEventListener('DOMContentLoaded', function () {
      const bgm = document.getElementById('halloween-bgm');
      const sound = document.getElementById('halloween-sound');
      let musicStarted = false;

      // 音楽開始ボタンを作成
      const musicButton = document.createElement('button');
      musicButton.innerHTML = '🎵 音楽を開始';
      musicButton.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        padding: 10px 20px;
        background: rgba(255, 107, 53, 0.9);
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
      `;

      musicButton.addEventListener('mouseenter', function () {
        this.style.background = 'rgba(255, 107, 53, 1)';
        this.style.transform = 'scale(1.05)';
      });

      musicButton.addEventListener('mouseleave', function () {
        this.style.background = 'rgba(255, 107, 53, 0.9)';
        this.style.transform = 'scale(1)';
      });

      // 音楽開始/停止の制御
      musicButton.addEventListener('click', function () {
        if (!musicStarted) {
          // BGM開始
          bgm.play().then(() => {
            console.log('🎃 Halloween BGM started!');
            musicButton.innerHTML = '🔇 音楽を停止';
            musicStarted = true;
          }).catch(error => {
            console.error('BGM再生エラー:', error);
            musicButton.innerHTML = '❌ 音楽エラー';
          });
        } else {
          // BGM停止
          bgm.pause();
          bgm.currentTime = 0;
          musicButton.innerHTML = '🎵 音楽を開始';
          musicStarted = false;
          console.log('🎃 Halloween BGM stopped!');
        }
      });

      // ボタンをページに追加
      document.body.appendChild(musicButton);

      // キャラクタークリック時の効果音
      const characters = document.querySelectorAll('.character');
      characters.forEach(character => {
        character.addEventListener('click', function () {
          if (sound && musicStarted) {
            sound.currentTime = 0;
            sound.play().catch(error => {
              console.error('効果音再生エラー:', error);
            });
          }
        });
      });

      console.log('🎃 Halloween音楽システム初期化完了!');
    });
  </script> -->

</body>

</html>